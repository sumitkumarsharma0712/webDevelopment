<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CSS-Only Car Racing</title>
<style>
  :root{
    --road-width: 340px;
    --lane-count: 3;
    --lane-gap: 6px;
    --car-w: 60px;
    --car-h: 100px;
    --speed-road: 700ms;   /* lane markers speed */
    --speed-traffic: 2800ms;  /* enemy cars speed */
    --game-height: 80vh;
    --accent: #00e5ff;
  }

  *{ box-sizing: border-box; }
  body{
    margin:0;
    background:#0a0a0f linear-gradient(#0a0a0f, #151528);
    font-family: system-ui, Arial, sans-serif;
    color:#eaeaf2;
    display:grid;
    place-items:center;
    min-height:100vh;
  }

  .hud{
    display:flex;
    gap:1rem;
    align-items:center;
    margin-bottom:12px;
    opacity:.9;
  }
  .badge{
    padding:.35rem .7rem;
    border-radius:999px;
    background:#1b1b2f;
    border:1px solid #2b2b47;
    font-size:.9rem;
  }

  .game{
    position:relative;
    height:var(--game-height);
    width:calc(var(--road-width) + 40px);
    display:flex;
    justify-content:center;
    align-items:center;
  }

  /* ROAD */
  .road{
    position:relative;
    height:100%;
    width:var(--road-width);
    background:
      /* side asphalt */
      linear-gradient(#0d0d17, #0d0d17) padding-box,
      /* side guards */
      linear-gradient(90deg,#3b3b55 0 2%, transparent 2% 98%, #3b3b55 98%) border-box;
    border-left:10px solid transparent;
    border-right:10px solid transparent;
    border-radius:18px;
    overflow:hidden;
    box-shadow:0 20px 60px rgba(0,0,0,.55), inset 0 0 40px rgba(0,0,0,.6);
  }

  /* Moving lane markers (center + sides) */
  .lane-lines,
  .lane-lines::before,
  .lane-lines::after{
    content:"";
    position:absolute;
    top:-40px; left:0; right:0; bottom:-40px;
    background:
      repeating-linear-gradient(
        to bottom,
        transparent 0 36px,
        rgba(255,255,255,.9) 36px 56px,
        transparent 56px 120px
      );
    width:6px;
    margin:0 auto;
    filter:drop-shadow(0 0 6px rgba(255,255,255,.35));
    animation: moveY var(--speed-road) linear infinite;
  }
  .lane-lines::before{
    width:4px;
    left:calc(33.333% - 2px);
    margin:0;
    opacity:.55;
  }
  .lane-lines::after{
    width:4px;
    left:calc(66.666% - 2px);
    margin:0;
    opacity:.55;
  }

  @keyframes moveY{
    to{ transform: translateY(120px); }
  }

  /* PLAYER CAR */
  .car{
    position:absolute;
    bottom:20px;
    width:var(--car-w);
    height:var(--car-h);
    transition: transform .25s ease;
    /* default center lane */
    transform: translateX(calc((var(--road-width)/3) - var(--car-w)/2));
  }

  /* Car look (simple vector-ish with CSS) */
  .car .body{
    position:absolute; inset:0;
    background:
      radial-gradient(40% 55% at 50% 30%, #38bdf8, #0ea5e9 60%, #0284c7 70%) padding-box;
    border-radius:14px;
    border:3px solid #0b3b50;
    box-shadow: 0 10px 0 inset rgba(0,0,0,.2);
  }
  .car .stripe{
    position:absolute; left:50%; transform:translateX(-50%);
    top:6px; bottom:6px; width:10px; border-radius:4px;
    background:linear-gradient(#fff, #e2e8f0);
    mix-blend-mode:screen; opacity:.9;
  }
  .car .wheel{
    position:absolute; width:12px; height:32px; background:#111; border-radius:6px;
    top:10px; box-shadow:0 56px 0 #111;
  }
  .car .wheel.left{ left:-8px; }
  .car .wheel.right{ right:-8px; }

  /* ENEMY TRAFFIC (pure CSS loop) */
  .enemy{
    position:absolute;
    top:-140px;
    width:var(--car-w);
    height:var(--car-h);
    animation: traffic var(--speed-traffic) linear infinite;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.6));
  }
  .enemy .body{
    position:absolute; inset:0;
    background: linear-gradient(#ef4444, #b91c1c);
    border:3px solid #5c0b0b; border-radius:14px;
  }
  .enemy .wheel{ position:absolute; width:12px; height:32px; background:#111; border-radius:6px; top:10px; box-shadow:0 56px 0 #111; }
  .enemy .wheel.left{ left:-8px; }
  .enemy .wheel.right{ right:-8px; }

  /* Different lanes with CSS variables */
  .lane-1{ left: calc( (var(--road-width) / var(--lane-count)) * 0 + (var(--road-width)/var(--lane-count)/2) - var(--car-w)/2 ); }
  .lane-2{ left: calc( (var(--road-width) / var(--lane-count)) * 1 + (var(--road-width)/var(--lane-count)/2) - var(--car-w)/2 ); }
  .lane-3{ left: calc( (var(--road-width) / var(--lane-count)) * 2 + (var(--road-width)/var(--lane-count)/2) - var(--car-w)/2 ); }

  /* Staggered traffic */
  .enemy.e2{ animation-duration: calc(var(--speed-traffic) * 1.15); animation-delay: .6s; }
  .enemy.e3{ animation-duration: calc(var(--speed-traffic) * .9);  animation-delay: 1.1s; }

  @keyframes traffic{
    to{ transform: translateY(calc(var(--game-height) + 220px)); }
  }

  /* CONTROLS (CSS radio-trick for lane) */
  .controls{
    position:absolute; inset:auto 0 14px 0;
    display:flex; justify-content:center; gap:16px; pointer-events:auto;
  }
  .controls button,
  .controls label{
    background:#0f172a; border:1px solid #233056; color:#e2e8f0;
    padding:.6rem 1rem; border-radius:999px; cursor:pointer;
    font-weight:600; letter-spacing:.3px;
    box-shadow:0 6px 18px rgba(0,0,0,.35);
    user-select:none;
  }

  /* hide radios */
  input[name="lane"]{ position:absolute; opacity:0; pointer-events:none; }

  /* Default: center lane */
  #lane2:checked ~ .road .car{ transform: translateX(calc((var(--road-width)/3) - var(--car-w)/2)); }
  #lane1:checked ~ .road .car{ transform: translateX(calc( (var(--road-width)/3) * 0 - var(--car-w)/2 + (var(--road-width)/6) )); }
  #lane3:checked ~ .road .car{ transform: translateX(calc( (var(--road-width)/3) * 2 - var(--car-w)/2 + (var(--road-width)/6) )); }

  /* Buttons layout */
  .ui{
    position:absolute;
    top:10px; left:50%; transform:translateX(-50%);
    display:flex; gap:10px; z-index:2;
  }
  .chip{
    padding:.35rem .7rem; background:#0f172a; border:1px solid #233056; border-radius:999px; font-size:.85rem; opacity:.9;
  }

  /* Responsive */
  @media (max-width: 440px){
    :root{ --road-width: 280px; --car-w: 52px; --car-h: 88px; }
  }
</style>
</head>
<body>

  <div class="hud">
    <span class="badge">üöó CSS-only demo</span>
    <span class="badge">Use buttons to change lane</span>
    <span class="badge">No JS, no collisions</span>
  </div>

  <!-- lane radios (CSS control) -->
  <input type="radio" id="lane1" name="lane" />
  <input type="radio" id="lane2" name="lane" checked />
  <input type="radio" id="lane3" name="lane" />

  <div class="game">
    <div class="ui">
      <label class="chip" for="lane1">‚üµ Left</label>
      <label class="chip" for="lane2">Center</label>
      <label class="chip" for="lane3">Right ‚ü∂</label>
    </div>

    <div class="road">
      <!-- moving lane markers -->
      <div class="lane-lines"></div>

      <!-- enemy traffic (visual only) -->
      <div class="enemy lane-1">
        <div class="body"></div>
        <span class="wheel left"></span><span class="wheel right"></span>
      </div>
      <div class="enemy lane-2 e2">
        <div class="body" style="background:linear-gradient(#22c55e,#15803d); border-color:#0f4c2e;"></div>
        <span class="wheel left"></span><span class="wheel right"></span>
      </div>
      <div class="enemy lane-3 e3">
        <div class="body" style="background:linear-gradient(#f59e0b,#b45309); border-color:#7c3a05;"></div>
        <span class="wheel left"></span><span class="wheel right"></span>
      </div>

      <!-- player car -->
      <div class="car">
        <div class="body"></div>
        <div class="stripe"></div>
        <span class="wheel left"></span><span class="wheel right"></span>
      </div>

      <!-- on-screen controls -->
      <div class="controls" aria-hidden="true">
        <label for="lane1">‚¨ÖÔ∏è</label>
        <label for="lane2">‚è∫</label>
        <label for="lane3">‚û°Ô∏è</label>
      </div>
    </div>
  </div>

</body>
</html>
